class WgtInfo extends HTMLElement{constructor(){super(),this.isRendered=!1,this.isCompleted=!1,this.adWidgetId=null,this.widgetId=null}static get observedAttributes(){return["info_text","section_bg_src","section_bg_color","cta_url","ad_widget_id","widget_id"]}attributeChangedCallback(e,t,i){if(t!==i)switch(e){case"ad_widget_id":this.adWidgetId=i||null;break;case"widget_id":this.widgetId=i||null;break;case"section_bg_color":this.style.backgroundColor=i;break;case"section_bg_src":this.style.backgroundImage=i?`url(${i})`:"";break;case"info_text":case"cta_url":this.render()}}connectedCallback(){this.resizeObserver=new ResizeObserver(()=>this.render()),this.resizeObserver.observe(this),this.render()}disconnectedCallback(){this.destroy()}getAttributeValue(e,t=""){let i=this.getAttribute(e);return null!==i?i:t}render(){let e=`info-${Math.random().toString(36).substr(2,5)}`,t=this.getAttribute("info_text")||"",i=this.getAttribute("cta_url")||"";this.adWidgetId=this.getAttribute("ad_widget_id")||e,this.widgetId=this.getAttribute("widget_id")||null;let r=document.createElement("div");r.innerHTML=t;let s=r.querySelectorAll("a").length>0,d=i&&!s,n=document.createElement(d?"a":"div");n.className="info-wrapper",d&&(n.href=i,n.target="_blank",n.rel="noopener noreferrer"),n.innerHTML=r.innerHTML;let a=n.querySelectorAll("a");a.forEach((e,t)=>{e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer");let i=t+1;e.addEventListener("click",()=>{AdEventTracker?.TrackingHelper?.triggerEvent?.({widgetId:this.widgetId,adWidgetId:this.adWidgetId,eventName:`ItemClick_${i??"unknown"}`,cumulative:!0,click:!0,engagement:!0})})}),d&&n.addEventListener("click",()=>{AdEventTracker?.TrackingHelper?.triggerEvent?.({widgetId:this.widgetId,adWidgetId:this.adWidgetId,eventName:"ItemClick_1",cumulative:!0,click:!0,engagement:!0})}),this.innerHTML="",this.appendChild(n),this.isRendered||(this.isRendered=!0,this.dispatchEvent(new CustomEvent("wgt-rendered",{bubbles:!0,composed:!0,detail:{tag:this.tagName.toLowerCase()}}))),this.isRendered&&!this.isCompleted&&(this.dispatchEvent(new CustomEvent("wgt-completed",{detail:{tag:this.tagName.toLowerCase()},bubbles:!0,composed:!0})),this.isCompleted=!0)}destroy(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.innerHTML="",this.isRendered=!1}}customElements.define("wgt-info",WgtInfo);